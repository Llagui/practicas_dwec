<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p>
        Crea una función llamada getAverages() que calcule para cada alumno la nota media de todos los módulos que ha cursado. Debe devolver un array de la forma { alumno: 'XXX YYY', expediente: 'ZZZZ', nota_media: 00 }
    </p>
    <script>
        function getMedia(arr){
            suma = 0;
            numElementos = 0;
            
            for (key in arr) {
                suma += arr[key];
                numElementos++;
            }
            return suma/numElementos;
        }
        function getAverages() {
            let arr = [
                {
                    nombre: 'Pepe',
                    ape1: 'Pérez',
                    ape2: 'López',
                    dni: '10100100',
                    expediente: '1720',
                    pass: '1234ABC',
                    ciclo: 'DAW',
                    notas: {
                        DWEC: 7.8,
                        DIW: 5.4,
                        DWES: 9.4,
                    }
                },
                {
                    nombre: 'Juan',
                    ape1: 'Mázquez',
                    ape2: 'Hernández',
                    dni: '7340831',
                    expediente: '342',
                    pass: 'P@ssw0rd',
                    ciclo: 'DAW',
                    notas: {
                        DWEC: 8,
                        DIW: 5.2,
                        DWES: 4
                    }
                },
                {
                    nombre: 'Juan',
                    ape1: 'Mázques',
                    ape2: 'Hernándes',
                    dni: '7340831',
                    expediente: '3452',
                    pass: 'P@ssw0rd',
                    ciclo: 'DAM',
                    notas: {
                        DWEC: 8,
                        DIW: 5.2,
                        DWES: 4
                    }
                }
            ];
            return arr.map(item =>{
                return {alumno : item.nombre +" "+ item.ape1 +" "+ item.ape2, 
                    expediente : item.expediente,
                    nota_media :  Math.round(getMedia(item.notas)),}
            } 
            )
        }
        console.log(getAverages());
    </script>
</body>
</html>